# new lang 2017

## new lang 2017 とは

新しい言語を1年に1回作ってみようと言う企画です。
仕様をしっかりBNFで書いて操作的意味論を書いてPrologで動かし、OCamlなどの言語でも実装してみようというものです。
プログラミング言語を趣味で作っている人は結構いるのですが、グループで実装することが苦手なのでこんなことやれたらなぁと思い2016年から始めてみたものです。
まだ軌道に乗っていないので試行錯誤の段階ですが徐々に形にしていければと考えています。

## 今年のお題

今年のお題はOCamlの不満を修整した言語を作ろうです。
twitterでOCamlの文法気持ち悪いとかあまり聞かないとか言う話から、どこが気持ち悪いかなぁみたいな話題があったので、OCamlをこうしたいというような言語を作ってみようと思います。

## 名前

とりあえず、Postocamlにしておきます。

## 構文 grammer

Postocamlの文法は大きくわけて字句解析パートと構文解析パートに別れます。
字句解析パートではテキスト文字列をトークンに分割します。
構文解析パートではトークン列から構文木への構文規則を示します。

## 構文サマリ

    p  ::= プログラム
         | d+
    d  ::= 宣言
         | def x = e                      再帰宣言
         | val x = e                      変数宣言
    e  ::= 式
         | {| x1 -> e1 | ... | xn -> en } 部分関数
         | x                              変数
         | i                              整数
         | e + e                          加算
         | e - e                          減算
         | if e then e else e             条件式
         | e1 e2                          関数適用
         | e2 |> e1                       連結式
         | let x=e1 ; e2                  let 式
         | e1 ; e2                        文
         | ( e )                          括弧

### 字句解析

字句解析の文法を以下に示します：

### 構文解析
#### 宣言 declare

   val x = e
   def x = e

#### 文 statement

文は式と式を2項演算子;を用いて結合した式です。文は文であると同時に式であるので式として使うことが出来ます。

   e;e

#### 式 expression



##### 関数リテラル

構文

    {| x1 -> e1 |...| xn->en }

例

    def fib = {
      | 0 -> 0
      | 1 -> 1
      | x -> (fib (x - 2)) + (fib (x - 1))
    }
